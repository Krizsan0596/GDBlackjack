[gd_scene load_steps=8 format=3 uid="uid://c1mbrubebvbj1"]

[ext_resource type="Script" uid="uid://clqgq1n7v0ar" path="res://addons/card-framework/card_manager.gd" id="1_sugp2"]
[ext_resource type="Script" uid="uid://cbss6l30u4kls" path="res://scripts/game_manager.gd" id="1_tbgi4"]
[ext_resource type="Script" uid="uid://6ams8uvg43gu" path="res://addons/card-framework/pile.gd" id="2_jyhfs"]
[ext_resource type="PackedScene" uid="uid://dpnpfi0ggav67" path="res://scenes/card_factory.tscn" id="2_tbgi4"]
[ext_resource type="Script" uid="uid://dj46jo3lfbclo" path="res://addons/card-framework/hand.gd" id="3_tbgi4"]

[sub_resource type="Curve" id="Curve_jyhfs"]
_data = [Vector2(0, 0), 0.0, 2.268686, 0, 0, Vector2(0.4941861, 0.3820225), 0.0, 0.0, 0, 0, Vector2(1, 0), -1.9325857, 0.0, 0, 0]
point_count = 3

[sub_resource type="Curve" id="Curve_tbgi4"]
_data = [Vector2(0, 0.3820225), 0.0, -2.1082728, 0, 0, Vector2(0.5232559, 0), 0.0, 0.0, 0, 0, Vector2(1, 0.3820225), 2.7608378, 0.0, 0, 0]
point_count = 3

[node name="Node2D" type="Node2D"]
script = ExtResource("1_tbgi4")

[node name="CardManager" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("1_sugp2")
card_factory_scene = ExtResource("2_tbgi4")
debug_mode = true
metadata/_custom_type_script = "uid://clqgq1n7v0ar"

[node name="Deck" type="Control" parent="CardManager"]
anchors_preset = 0
offset_left = 1000.0
offset_top = 360.0
offset_right = 1040.0
offset_bottom = 400.0
script = ExtResource("2_jyhfs")
max_stack_display = 8
card_face_up = false
allow_card_movement = false
restrict_to_top_card = false
align_drop_zone_with_top_card = false
enable_drop_zone = false
metadata/_custom_type_script = "uid://6ams8uvg43gu"

[node name="PlayerHand" type="Control" parent="CardManager"]
anchors_preset = 0
offset_left = 620.0
offset_top = 500.0
offset_right = 660.0
offset_bottom = 540.0
script = ExtResource("3_tbgi4")
max_hand_size = 21
hand_vertical_curve = SubResource("Curve_jyhfs")
align_drop_zone_size_with_current_hand_size = false
enable_drop_zone = false
metadata/_custom_type_script = "uid://dj46jo3lfbclo"

[node name="DealerHand" type="Control" parent="CardManager"]
anchors_preset = 0
offset_left = 620.0
offset_top = 150.0
offset_right = 660.0
offset_bottom = 190.0
script = ExtResource("3_tbgi4")
max_hand_size = 21
hand_vertical_curve = SubResource("Curve_tbgi4")
align_drop_zone_size_with_current_hand_size = false
enable_drop_zone = false
metadata/_custom_type_script = "uid://dj46jo3lfbclo"

[node name="HiddenDealerHand" type="Control" parent="CardManager"]
anchors_preset = 0
offset_left = 550.0
offset_top = 150.0
offset_right = 590.0
offset_bottom = 190.0
script = ExtResource("3_tbgi4")
max_hand_size = 21
card_face_up = false
hand_vertical_curve = SubResource("Curve_tbgi4")
align_drop_zone_size_with_current_hand_size = false
enable_drop_zone = false
metadata/_custom_type_script = "uid://dj46jo3lfbclo"

[node name="UI" type="CanvasLayer" parent="."]

[node name="Hit" type="Button" parent="UI"]
custom_minimum_size = Vector2(60, 30)
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 250.0
offset_top = 40.0
offset_right = 310.0
offset_bottom = 71.0
grow_vertical = 2
action_mode = 0
text = "Hit"

[node name="Stand" type="Button" parent="UI"]
custom_minimum_size = Vector2(60, 30)
anchors_preset = 6
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = -322.0
offset_top = 40.0
offset_right = -262.0
offset_bottom = 71.0
grow_horizontal = 0
grow_vertical = 2
action_mode = 0
text = "Stand"

[node name="Quit" type="Button" parent="UI"]
custom_minimum_size = Vector2(60, 30)
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 368.0
offset_top = 90.0
offset_right = 428.0
offset_bottom = 121.0
grow_vertical = 2
action_mode = 0
text = "Quit
"

[node name="Play Again" type="Button" parent="UI"]
custom_minimum_size = Vector2(60, 30)
anchors_preset = 6
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = -440.0
offset_top = 90.0
offset_right = -380.0
offset_bottom = 121.0
grow_horizontal = 0
grow_vertical = 2
action_mode = 0
text = "Play Again"

[node name="OutText" type="Label" parent="UI"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -20.0
offset_top = -70.0
offset_right = 20.0
offset_bottom = -47.0
grow_horizontal = 2
grow_vertical = 0
